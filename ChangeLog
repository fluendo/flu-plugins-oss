2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_attribute_parse),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_merge_attribute),
	(gst_ttmlparse_state_get_attribute), (gst_ttmlparse_state_reset):
	* src/gstttmlprivate.h:
	  - Support for frame time expression ('300f').
	  - Support for the frameRate and frameRateMultiplier attributes.
	  - Keep tick_rate internally instead of tick_period, for simplicity.
	  - Fix span duration calculation.

2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_span_free),
	(gst_ttmlparse_span_new), (gst_ttmlparse_span_compare_id),
	(gst_ttmlparse_active_spans_add),
	(gst_ttmlparse_active_spans_remove), (gst_ttmlparse_event_free),
	(gst_ttmlparse_event_new_span_begin),
	(gst_ttmlparse_event_new_span_end), (gst_ttmlparse_event_parse),
	(gst_ttmlparse_timeline_insert_event),
	(gst_ttmlparse_timeline_get_next_event),
	(gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_attribute_new_node),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_merge_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_state_push_attribute),
	(gst_ttmlparse_state_pop_attribute), (gst_ttmlparse_span_compose),
	(gst_ttmlparse_send_buffer), (gst_ttmlparse_node_type_parse),
	(gst_ttmlparse_sax_element_start), (gst_ttmlparse_sax_element_end),
	(gst_ttmlparse_sax_characters), (gst_ttmlparse_sax_document_end),
	(gst_ttmlparse_chain), (gst_ttmlparse_state_reset),
	(gst_ttmlparse_cleanup), (gst_ttmlparse_dispose),
	(gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  WARNING, HUGE COMMIT!
	  - Allow overlapped, nested and anonymous spans by implementing a timeline
	    and an active spans list.

2012-11-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_attribute_parse),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_sax_element_start), (gst_ttmlparse_state_reset),
	(gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  - Parse the tickRate attribute, so time expressions in 0000000t format
	    as the ones found in the Netflix subs are accepted.

2012-11-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_element_is_type),
	(gst_ttmlparse_attribute_parse), (gst_ttmlparse_attribute_free),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_state_push_attribute),
	(gst_ttmlparse_state_push_attribute_group_marker),
	(gst_ttmlparse_state_pop_attribute), (gst_ttmlparse_send_buffer),
	(gst_ttmlparse_sax_element_start), (gst_ttmlparse_sax_element_end),
	(gst_ttmlparse_chain), (gst_ttmlparse_state_reset),
	(gst_ttmlparse_dispose), (gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  - Implement an attribute stack, so attributes can be inherited. No change
	    in functionality, everything is just done in a different way.

2012-11-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmltype.c: (gst_ttmltype_init):
	  - Added new supported extension: dfxp

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_chain), (gst_ttmlparse_init):
	  - Use the first buffer of an XML as the base time, not the last.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer):
	  - Default newsegments start at the first timestamp, not at 0.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_get_property),
	(gst_ttmlparse_set_property), (gst_ttmlparse_class_init):
	* src/gstttmlprivate.h:
	  - Add property skeleton for "Assume Ordered Spans". Not implemented yet.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_dispose),
	(gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  - Comment out timeline functions to make code compile while we work on
	    something else.
	  - Timeline initialization and disposal.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlprivate.h:
	  - Typo in comment

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c:
	  - Set SRC pad to ALWAYS insted of SOMETIMES, as that is what it is.

201-11-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_cleanup),
	(gst_ttmlparse_event_compare), (gst_ttmlparse_timeline_insert),
	(gst_ttmlparse_timeline_get_next):
	* src/gstttmlparse.h:
	* src/gstttmlprivate.h:
	  - Initial work to support timelined events (incomplete!)

2012-11-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c:
	  - Remove unneeded includes

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer):
	  - Whitespace

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer),
	(gst_ttmlparse_sax_element_start):
	  - Ignore <p> nodes without timing information.

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer):
	  - Fix debug output (buffers are not null-terminated now)

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	* src/fluttml.c: (plugin_init):
	* src/gstttmlparse.c:
	* src/gstttmltype.c: (gst_ttmltype_find), (gst_ttmltype_init):
	* src/gstttmltype.h:
	  - Implement the typefinder.
	  - Change the produced caps to the official application/ttml+xml

2012-11-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer),
	(gst_ttmlparse_chain), (gst_ttmlparse_init):
	* src/gstttmlparse.h:
	  - Handle pad push errors by storing them and returning them from the
	    chain once parsing finishes.

2012-11-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_cleanup),
	(gst_ttmlparse_is_type), (gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_send_buffer), (gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_element_end), (gst_ttmlparse_sax_characters),
	(gst_ttmlparse_sax_warning), (gst_ttmlparse_sax_error),
	(gst_ttmlparse_sax_comment), (gst_ttmlparse_sax_get_entity),
	(gst_ttmlparse_chain), (gst_ttmlparse_init):
	* src/gstttmlparse.h: 
	  - Use a SAX XML parser instead of the DOM one, so files can be parsed
	    as they are received, even if they are not complete.
	  - Disregard namespaces, to support files using the final and the
	    working draft names.
	  - Support time expressions in "HH:mm:ss" and "10s" format.
	  - Support concatenated XML files inside the same buffer (only seen in
	    files produced by ourselves, but better safe than sorry).
	  - Remove Authentec hack.


