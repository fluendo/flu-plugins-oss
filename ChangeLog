2015-01-09  Xavi Artigas  <xartigas@fluendo.com>

	* src\gstttmlattribute.c:
	* src\gstttmlattribute.h:
	* src\gstttmlbase.c:
	* src\gstttmlbase.h:
	* src\gstttmlenums.h:
	* src\gstttmlstate.c:
	* src\gstttmlstate.h:
	* src\gstttmlutils.c:
	* src\gstttmlutils.h:
	Start parsing SMPTE-TT-related stuff. image nodes and related attributes
	are parsed, but no rendering occurs yet.

2015-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* configure.ac:
	Pango, Pangocairo and Pixman are not optional. Make sure configure
	aborts if they are not found.

2015-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/smpte-tt/spec-example.xml:
	Add a sample file including SMPTE-TT images, taken from the spec.

2014-11-04  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.13 ===

2014-10-30  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmltype.c: (gst_ttmltype_find):
	* testsuite\MIB4_DASH_Livesubtitle.mp4:
	Lower probability of typefinder of the <xml> tag does not appear
	at byte offset 0. This fixes the incorrect detection of the
	QT file provided.

2014-06-30  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_class_init):
	Set the ttmlrender class to "Codec/Decoder/Subtitle" so it can be
	autoplugged by playbin.

2014-06-30  Xavi Artigas  <xartigas@fluendo.com>

	* win32/include/config.h:
	Force building of the ttmlparse and ttmlrender elements on Windows,
	since it does not have the configure mechanism to make them optional.

2014-06-30  Xavi Artigas  <xartigas@fluendo.com>

	* configure.ac:
	* src/Makefile.am:
	* src/fluttml.c: (plugin_init):
	Make compilation of both elements (ttmlparse and ttmlrender) optional
	through configure switches.

2014-06-18  Julien Moutte  <julien@fluendo.com>

	* gst-fluendo-ttml.spec.in: Fix spec file for 1.0.

2014-06-17  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.12 ===

2014-06-10  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	Revert back to absolute font sizes for ttmlparse ("large" and "small"),
	since relative ones ("larger" and "smaller") do not seem to work well
	with OPD, which adds additional Pango markup around them.
	As a result, subtitles which specify the font size cannot have their
	size changed from OPD's preferences menu (but at least they are shown.

2014-06-05  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/ttmlrender-play-1.0.sh:
	* testsuite/ttmlrender-play-0.10.sh:
	* testsuite/ttmlrender-play.sh:
	Test play script for 1.0

2014-06-05  Xavi Artigas  <xartigas@fluendo.com>

	* gst-fluendo-ttml.spec.in:
	Add dependencies to spec file.

2014-06-04  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.11 ===

2014-05-27  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_downstream_negotiation):
	* testsuite/cpcdemo-0.10.bat:
	* testsuite/cpcdemo-1.0.bat:
	* testsuite/cpcdemo_smptett.xml:
	Debug output and a new test file (plus the not-at-all-obvious pipeline
	required to play it).

2014-05-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_normalize_length):
	Fix corner case crash for RELATIVE padding without extent attribute.

2014-05-22  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/ttml-play.bat:
	* testsuite/ttmlrender-play.bat:
	* testsuite/ttmlparse-play.bat:
	Test scripts for ttmlparse and ttmlrender. (on Windows).

2014-05-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_store_layout),
	(gst_ttmlrender_new_region), (gst_ttmlrender_get_property),
	(gst_ttmlrender_set_property), (gst_ttmlrender_class_init):
	* src/gstttmlrender.h:
	* src/gstttmlutils.c: (gst_ttml_text_align_spec_get_type),
	(gst_ttml_display_align_spec_get_type):
	* src/gstttmlutils.h:
	Add a couple of properties to override the default settings for some
	attributes (text_align and display_align), since they seem a bit odd to me...

2014-05-22  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/ttml-check-ALL.sh:
	* testsuite/ttml-play.sh:
	* testsuite/ttml-record-ALL-GOLD.sh:
	* testsuite/ttml-record.sh:
	* testsuite/ttmlparse-check-ALL.sh:
	* testsuite/ttmlparse-record-ALL-GOLD.sh:
	* testsuite/ttmlparse-record.sh:
	* testsuite/ttmlrender-check-ALL.sh:
	* testsuite/ttmlrender-play.sh:
	* testsuite/ttmlrender-record-ALL-GOLD.sh:
	* testsuite/ttmlrender-record.sh:
	Test scripts for ttmlparse and ttmlrender.

2014-05-21  Xavi Artigas  <xartigas@fluendo.com>

	Whitespace.

2014-05-21  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_show_layout),
	(gst_ttmlrender_show_regions):
	Fix textAlign when showing layouts line by line (Again).

2014-05-21  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_show_regions):
	Fix textAlign when showing layouts line by line.

2014-05-21  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse_lengths_list),
	(gst_ttml_attribute_normalize_length), (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_store_layout),
	(gst_ttmlrender_new_region), (gst_ttmlrender_show_regions):
	* src/gstttmlstate.c: (gst_ttml_state_push_attribute):
	* src/gstttmlutils.c:
	Support for the Padding attribute.

2014-05-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_show_layout),
	(gst_ttmlrender_render_outline), (gst_ttmlrender_show_regions):
	Fix attribute rendering when showing layouts line by line.

2014-05-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_store_layout):
	* src/gstttmlutils.c:
	* src/gstttmlutils.h:
	Support the wrapOption attribute.

2014-05-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_expression),
	(gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_store_layout),
	(gst_ttmlrender_show_layout), (gst_ttmlrender_render_outline),
	(gst_ttmlrender_show_regions):
	* src/gstttmlutils.c:
	Add support for lineHeight attribute.
	Draw layout lines one by one instead of letting Pango draw the whole layout
	so we can control line spacing.
	Use get_pixel_extents for simplicity.

2014-05-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_downstream_negotiation):
	Fix obvious string leak in GST_DEBUG. Doh!

2014-05-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_fixate_caps):
	Truncate caps when fixating. I have found some strange cases where I
	got two identical structures with video/x-raw-rgb.

2014-05-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c:
	Flush posible remaining fragments before rendering all layouts.
	This fixes BasicTiming007.

2014-05-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	* src/gstttmlattribute.h:
	* src/gstttmlstate.c:
	* src/gstttmlstate.h:
	* src/gstttmlrender.c:
	Deal with zIndex collisions and the AUTO value.

2014-05-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c: (gst_ttml_state_push_attribute):
	Fix region background color state handling.

2014-05-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_show_regions):
	Set default text color (which is implementation dependent) to the inverse
	of the region background color, as the spec suggests.

2014-05-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse):
	Fix parsing of AUTO extent attribute.

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_new_region):
	Fix crash when zIndex is not defined.

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_push_attr):
	* src/gstttmlstate.c: (gst_ttml_state_push_attribute):
	Fix backgroundColor when applied to regions from a style.

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_region_compare_zindex),
	(gst_ttmlrender_new_region):
	* src/gstttmlutils.c:
	Support zIndex attribute, so regions can be put on top of one another.

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlutils.c:
	Fix parsing of lineThrough decoration attribute (Animation013.xml)
	(This was a regression from ttmlparse)

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlutils.c: (gst_ttml_utils_enum_parse_func):
	Fix parsing of attributes with trailing whitespace (Animation006.xml)
	(This was a regression from ttmlparse)

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_build_layouts):
	Support for the tts:display attribute in ttmlrender. This was already
	present in ttmlparse.

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_render_outline):
	Enlarge blur temporary surface so the blur radius fits in it (fixes
	truncated blurs on small fonts)

2014-05-15  Xavi Artigas  <xartigas@fluendo.com>

	* configure.ac:
	* src/Makefile.am:
	* src/gstttmlblur.c: (gst_ttml_blur_create_gaussian_kernel),
	(gst_ttml_blur_image_surface):
	* src/gstttmlblur.h:
	* src/gstttmlrender.c: (gst_ttmlrender_render_outline),
	(gst_ttmlrender_show_regions):
	* win32/vs10/libgstfluttml_sdk.vcxproj:
	* win32/vs10/libgstfluttml_sdk.vcxproj.filters:
	Support for blurred outline. This is a direct implementation without any
	optimization. Blur kernels are calculated every time, which might be cached.
	Also, a simple downscale+upscale will be much faster. This one, however,
	looks super cool.

2014-05-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_color_expression),
	(gst_ttml_attribute_normalize_length), (gst_ttml_attribute_parse):
	* src/gstttmlattribute.h:
	* src/gstttmlbase.c: (gst_ttmlbase_sax2_element_start_ns):
	* src/gstttmlrender.c: (gst_ttmlrender_new_region):
	Allow outline thickness to be specified in relative units.

2014-05-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_new_region):
	Fix writing to the main (default) region when other regions are
	defined.

2014-05-13  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_show_regions):
	* src/gstttmlstyle.c: (gst_ttml_style_translate_generic_font_name),
	(gst_ttml_style_gen_pango_markup):
	Add some FIXME comments.

2014-05-13  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_translate_generic_font_name),
	(gst_ttml_style_gen_pango_markup):
	Skeleton for remapping generic TTML font names into actual system
	fonts. For now, it simply removes the "default" tag, so we avoid a
	lot of Pango-WARNINGs in the most usual scenario.

2014-05-13  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_downstream_negotiation):
	Fix caps nego in 0.10 when there are no compatible caps.

2014-05-13  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_normalize_length):
	* src/gstttmlattribute.h:
	* src/gstttmlbase.c: (gst_ttmlbase_sax2_element_start_ns):
	* src/gstttmlstyle.c: (gst_ttml_style_get_attr),
	(gst_ttml_style_gen_pango_markup):
	* src/gstttmlstyle.h:
	Use a default font of 1c as the spec says, and finally render
	correctly font sizes in any length unit. Exactly in ttmlrender
	and approximately in ttmlparse.

2014-05-13  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_sax2_element_start_ns):
	Fix innocuous missig 'break'.

2014-05-12  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_color_expression),
	(gst_ttml_attribute_parse_length_pair_expression),
	(gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlforward.h:
	* src/gstttmlrender.c: (gst_ttmlrender_new_region),
	(gst_ttmlrender_show_regions):
	* src/gstttmlutils.c:
	Support for textOutline AT THE REGION LEVEL. Supporting it at
	the character level is in progress, but it will not be as
	simple.

2014-05-12  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_normalize_length):
	* src/gstttmlrender.c: (gst_ttmlrender_new_region):
	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	Put all unit-conversion code in the same place for simplicity.
	Allow cell units in fontSize (fixes fontSize004 testsuite).
	Add some TODO comments.

2014-05-12  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_init):
	* src/gstttmlrender.c: (gst_ttmlrender_length_to_pixels),
	(gst_ttmlrender_new_region), (gst_ttmlrender_gen_buffer),
	(gst_ttmlrender_setcaps):
	* src/gstttmlrender.h:
	* src/gstttmlstate.h:
	Move the frame width & height from the ttmlrender to the ttmlstate,
	so it is accessible to other areas of the code.
	No change in functionality.

2014-05-09  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_build_layouts),
	(gst_ttmlrender_get_property), (gst_ttmlrender_set_property),
	(gst_ttmlrender_dispose), (gst_ttmlrender_class_init),
	(gst_ttmlrender_init):
	* src/gstttmlrender.h:
	* src/gstttmlspan.c: (gst_ttml_span_compose):
	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	* src/gstttmlstyle.h:
	Allow specifying the default font family through a property. This is
	used when the TTML file does not set the font family explicitly.

2014-05-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_expression),
	(gst_ttml_attribute_normalize_length):
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_length_to_pixels):
	* src/gstttmlutils.c:
	Support "em" length units, which are equal to 16 pixels,
	according to http://www.w3schools.com/css/css_font.asp

2014-05-08  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/Parameters/CellResolution001.xml:
	Fix testsuite which is WROOOOOONG!

2014-05-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_expression),
	(gst_ttml_attribute_normalize_length), (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlforward.h:
	* src/gstttmlrender.c: (gst_ttmlrender_length_to_pixels),
	(gst_ttmlrender_new_region):
	* src/gstttmlstate.c: (gst_ttml_state_reset),
	(gst_ttml_state_set_attribute), (gst_ttml_state_get_attribute):
	* src/gstttmlstate.h:
	* src/gstttmlutils.c:
	Support cellResolution attribute and "cell" units for lengths.
	(Not working yet for fontSize)

2014-05-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_expression):
	Fix parsing of "em" units (sscanf was consuming the "e")

2014-05-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_expression),
	(gst_ttml_attribute_parse_length_pair_expression),
	(gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_new_region),
	(gst_ttmlrender_show_regions):
	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	* src/gstttmlutils.c:
	Start putting some sense into the LengthUnit handling.
	Comments, FIXMEs & whitespace.

2014-05-06  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_new_region),
	(gst_ttmlrender_show_regions):
	* src/gstttmlutils.c:
	Support for "overflow" attribute.

2014-05-06  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default),
	(gst_ttml_attribute_add_event):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_new_region),
	(gst_ttmlrender_show_regions):
	* src/gstttmlspan.c: (gst_ttml_span_list_update_attr):
	* src/gstttmlstate.c: (gst_ttml_state_push_attribute),
	(gst_ttml_state_pop_attribute):
	* src/gstttmlutils.c:
	* src/gstttmlutils.h:
	Support for displayAlign attribute.
	Remove helper function obsoleted by new generic enum parsing methods.

2014-05-06  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_store_layout):
	More gcc pedantry.

2014-05-06  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlutils.c:
	* src/gstttmlutils.h:
	Make gcc happy.

2014-05-06  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse):
	* src/gstttmlbase.c: (gst_ttmlbase_sax2_element_start_ns),
	(gst_ttmlbase_sax_characters):
	* src/gstttmlenums.h:
	* src/gstttmlforward.h:
	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	* src/gstttmlstyle.h:
	* src/gstttmlutils.c: (gst_ttml_utils_enum_parse_func),
	(gst_ttml_utils_enum_name_func), (gst_ttml_utils_flags_parse_func),
	(gst_ttml_utils_flags_name_func), (gst_ttml_utils_node_type_parse):
	* src/gstttmlutils.h:
	Implement generic enum parsing and writing functions. This removes
	a lot of specific parsing and writing methods and simplifies life.
	No change in functionality.
	Added descriptions for missing nodes (tt, head, body and div). These
	types are ignored right now, so only the debug output is affected.

2014-05-05  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default),
	(gst_ttml_attribute_type_name):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_store_layout),
	(gst_ttmlrender_build_layouts):
	* src/gstttmlstyle.c: (gst_ttml_style_get_text_align_name):
	* src/gstttmlstyle.h:
	Support for textAlign attribute.

2014-05-05  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_new_styling_default),
	(gst_ttml_attribute_type_name):
	* src/gstttmlbase.c: (gst_ttmlbase_push_attr):
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_new_region):
	New internal attribute for REGION background color, separated from the
	normal text background color.

2014-05-05  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_new_styling_default):
	* src/gstttmlbase.c: (gst_ttmlbase_sax2_element_end_ns):
	* src/gstttmlenums.h:
	* src/gstttmlrender.c: (gst_ttmlrender_store_layout),
	(gst_ttmlrender_new_region), (gst_ttmlrender_build_layouts),
	(gst_ttmlrender_show_regions), (gst_ttmlrender_free_region),
	(gst_ttmlrender_gen_buffer):
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	First working subtitles rendered with Pango & Cairo.
	All styles previously available through Pango markup are working.
	Region origin & extent are are working.

2014-05-05  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_color_expression),
	(gst_ttml_attribute_parse):
	Fix parsing of #rrggbbaa color expressions (We did not have alpha before).
	Fix parsing of "auto" origin expressions (We did not have regions before).

2014-05-02  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_free_region),
	(gst_ttmlrender_gen_buffer), (gst_ttmlrender_init):
	Fix leak, crash and warning.

2014-05-02  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_region_compare_zindex),
	(gst_ttmlrender_region_compare_id), (gst_ttmlrender_store_layout),
	(gst_ttmlrender_build_layouts), (gst_ttmlrender_show_region),
	(gst_ttmlrender_free_region), (gst_ttmlrender_gen_buffer),
	(gst_ttmlrender_dispose), (gst_ttmlrender_class_init),
	(gst_ttmlrender_init):
	* src/gstttmlrender.h:
	* win32/vs10/libgstfluttml_sdk.vcxproj:
	WORK IN PROGRESS: Build list of PangoLayouts corresponding to each region.
	Start using Cairo to produce (empty) buffers.

2014-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_dispose):
	Minor fix in debug output.

2014-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_base_init),
	(gst_ttmlbase_class_init), (gst_ttmlbase_get_type):
	Register sink pad template in base_init instead of class_init so it
	appears in the templates list of gst-inspect. A minor nuance, but
	who knows if it could have caused problems in the future...

2014-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_downstream_negotiation),
	(gst_ttmlbase_init):
	* src/gstttmlbase.h:
	* src/gstttmlrender.c: (gst_ttmlrender_setcaps),
	(gst_ttmlrender_class_init), (gst_ttmlrender_init):
	Better setcaps detection that allows working with gst 0.10 and 1.0

2014-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlrender.c: (gst_ttmlrender_fixate_caps):
	Remove unnecessary caps truncation (our template has only one struct)
	This removes an ultra-pedantic gcc warning about unused result...

2014-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_downstream_negotiation),
	(gst_ttmlbase_handle_buffer), (gst_ttmlbase_handle_event):
	* src/gstttmlbase.h:
	* src/gstttmlrender.c: (gst_ttmlrender_fixate_caps),
	(gst_ttmlrender_setcaps), (gst_ttmlrender_class_init),
	(gst_ttmlrender_init):
	* src/gstttmlrender.h:
	Add caps negotiation, for those derived classes like ttmlrender
	which might need to agree on a frame size, for example.

2014-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_class_init):
	Small enhancement to property description.

2014-04-28  Xavi Artigas  <xartigas@fluendo.com>

	* configure.ac:
	* src/Makefile.am:
	Prepare for Pango support.

2014-04-25  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	* src/fluttml.c: (plugin_init):
	* src/gstttmlrender.c: (gst_ttmlrender_gen_buffer),
	(gst_ttmlrender_class_init), (gst_ttmlrender_init):
	* src/gstttmlrender.h:
	Skeleton for ttmlrender element.

2014-04-25  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlbase.c: (gst_ttmlbase_handle_event),
	(gst_ttmlbase_get_type):
	Fix build for 1.0

2014-04-25  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	Updated Makefile for new file.

2014-04-25  Xavi Artigas  <xartigas@fluendo.com>

	* src/fluttml.c: (plugin_init):
	* src/gstttmlattribute.c:
	* src/gstttmlbase.c: (gst_event_new_new_segment),
	(gst_event_parse_new_segment), (gst_segment_set_newsegment),
	(gst_ttmlbase_gen_buffer), (gst_ttmlbase_parse_event),
	(gst_ttmlbase_add_characters), (gst_ttmlbase_push_attr),
	(gst_ttmlbase_sax2_element_start_ns),
	(gst_ttmlbase_sax2_element_end_ns), (gst_ttmlbase_sax_characters),
	(gst_ttmlbase_sax_warning), (gst_ttmlbase_sax_error),
	(gst_ttmlbase_sax_comment), (gst_ttmlbase_sax_get_entity),
	(gst_ttmlbase_sax_document_start), (gst_ttmlbase_sax_document_end),
	(gst_ttmlbase_reset), (gst_ttmlbase_handle_buffer),
	(gst_ttmlbase_cleanup), (gst_ttmlbase_handle_event),
	(gst_ttmlbase_chain), (gst_ttmlbase_sink_event),
	(gst_ttmlbase_change_state), (gst_ttmlbase_get_property),
	(gst_ttmlbase_set_property), (gst_ttmlbase_dispose),
	(gst_ttmlbase_class_init), (gst_ttmlbase_init),
	(gst_ttmlbase_get_type):
	* src/gstttmlbase.h:
	* src/gstttmlevent.c:
	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_class_init), (gst_ttmlparse_init):
	* src/gstttmlparse.h:
	* src/gstttmlspan.c:
	* src/gstttmlstate.c:
	* src/gstttmlstyle.c:
	* win32/vs10/libgstfluttml_sdk.vcxproj:
	* win32/vs10/libgstfluttml_sdk.vcxproj.filters:
	Turn most of the current ttmlparse into a base class with a single virtual
	method. The ttmlparse element is now a derived element implementing that
	method.
	Lots of search & replaces, no change in functionality.

2014-04-24  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_expression),
	(gst_ttml_attribute_parse_length_pair_expression),
	(gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default),
	(gst_ttml_attribute_type_name):
	* src/gstttmlenums.h:
	Parse "origin" and "extent" attributes.

2014-04-24  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	Fix a couple of 1-byte leaks that have always been here.

2014-04-24  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_pair_expression):
	Fix const warning.

2014-04-24  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_sax2_element_start_ns),
	(gst_ttmlparse_sax2_element_end_ns):
	Do not consider style nodes inside region nodes as valid nodes.
	In this way, their attributes are merged with the parent region
	node, which effectively implements nested styling, the last styling
	mechanism left to implement. This is ugly, but according to the spec
	nested styling only happens for style nodes inside region nodes.

2014-04-24  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c: (gst_ttml_state_save_attr_stack):
	Add debug warning to clarify why some tests are currently failing.

2014-04-23  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_length_expression),
	(gst_ttml_attribute_parse_length_pair_expression),
	(gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlattribute.h:
	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	Support attributes made of two length values. fontSize='20px 20px'
	is now correctly parsed, even though the second value is ignored.

2014-04-23  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_color_expression),
	(gst_ttml_attribute_parse_length_expression),
	(gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlstyle.c: (gst_ttml_style_get_length_unit_name),
	(gst_ttml_style_gen_pango_markup):
	* src/gstttmlstyle.h:
	Turn the FontSize attribute into a more generic length, which will
	come in handy for region parsing. Length parsing was (and still is)
	incomplete.

2014-04-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c: (gst_ttml_state_save_attr_stack),
	(gst_ttml_state_restore_attr_stack):
	Debug and comments.

2014-04-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_free), (gst_ttml_attribute_copy),
	(gst_ttml_attribute_type_name):
	* src/gstttmlenums.h:
	* src/gstttmlevent.c: (gst_ttml_event_free),
	(gst_ttml_event_new_attr_update), (gst_ttml_event_type_name):
	* src/gstttmlparse.c: (gst_ttmlparse_parse_event),
	(gst_ttmlparse_sax2_element_start_ns),
	(gst_ttmlparse_sax2_element_end_ns),
	(gst_ttmlparse_sax_document_start):
	* src/gstttmlparse.h:
	* src/gstttmlspan.c: (gst_ttml_span_compose):
	* src/gstttmlstate.c: (gst_ttml_state_reset),
	(gst_ttml_state_set_attribute), (gst_ttml_state_get_attribute),
	(gst_ttml_state_save_attr_stack),
	(gst_ttml_state_restore_attr_stack):
	* src/gstttmlstate.h:
	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango_markup):
	* src/gstttmlstyle.h:
	* src/gstttmlutils.c: (gst_ttml_utils_node_type_parse),
	(gst_ttml_utils_node_type_name):
	Initial steps towards adding region support. So far, regions are just
	a parallel mechanism for styling. No rendering code has been added yet.
	Support the layout and region nodes, and the region attribute.
	Rename some events and methods to avoid future confusion with regions.
	Comments! this code is confusing enough as it is.

2014-04-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c: (gst_ttml_state_restore_attr_stack):
	Consistent warning messages when a reference to an undefined style is
	found.

2014-04-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_sax2_element_end_ns):
	Add a CRLF at the end of every P node, as the spec says.

2014-04-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_sax2_element_start_ns):
	Whitespace.

2014-04-17  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_push_attr),
	(gst_ttmlparse_sax2_element_start_ns):
	Make local node attributes override style attributes regardless of
	their parsing order. Previously, whichever attribute was parsed last
	prevailed, which is wrong. We never encountered an example where
	a local attribute had to overwrite a style attribute, but this will be
	more common once we implement regions.

2014-04-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlspan.c: (gst_ttml_span_compose):
	Minor warning fixed.

2014-04-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_handle_event):
	Fix GstEvent leaks detected with valgrind and G_SLICE=always-malloc

2014-04-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_handle_event):
	Fix caps nego in 1.0 when incoming buffers HAVE caps.

2014-04-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/fluttml.c:
	* src/gstttmlattribute.c:
	* src/gstttmlparse.c: (gst_event_new_new_segment),
	(gst_event_parse_new_segment), (gst_segment_set_newsegment),
	(gst_ttmlparse_gen_buffer), (gst_ttmlparse_handle_buffer),
	(gst_ttmlparse_handle_event), (gst_ttmlparse_chain),
	(gst_ttmlparse_sink_event), (gst_ttmlparse_class_init),
	(gst_ttmlparse_init):
	* src/gstttmltype.c: (gst_ttmltype_init):
	* src/gstttmlutils.c: (gst_ttml_utils_memdump_buffer):
	* src/gstttmlutils.h:
	* testsuite/ttml-play-1.0.bat:
	Port to GStreamer 1.0 API.

2014-04-04  Xavi Artigas  <xartigas@fluendo.com>

	* configure.ac:
	* src/Makefile.am:
	A bit of preparation for porting to 1.0 on Linux.

2014-04-03  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.h:
	Add libxml2 header required for gst-1.0 (was already included by
	GStreamer in 0.10).

2014-04-03  Xavi Artigas  <xartigas@fluendo.com>

	* win32/vs10/libgstfluttml_sdk.vcxproj:
	Add build dependency with libxml2 for gst-1.0

2014-04-03  Xavi Artigas  <xartigas@fluendo.com>

	* src/fluttml.c:
	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_change_state), (gst_ttmlparse_init):
	* src/gstttmlparse.h:
	Add support for building the plugin in DEMO mode.
	CAUTION: Since subtitle streams are SPARSE, the accumulated duration
	of all subtitles has no direct relationship with the total clip
	duration (in case the ttml is embedded in a container).

2014-04-01  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.10 ===

2014-01-28  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.9 ===

2014-01-24  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_time_expression),
	(gst_ttml_attribute_parse):
	Fix memory corruption caused by setlocale. The pointer it returns
	is not valid forever so its contents must be cached.
	This is undocumented and was causing problems detected on Windows XP
	by Dr. Memory.

2014-01-07  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.8 ===

2014-01-07  Andoni Morales  <amorales@fluendo.com>

	* src/gstttmlattribute.c:
	Fix potential segfault parsing font size attribute

2013-10-31  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.7 ===

2013-10-04  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c:
	- Do not expose text/plain as caps, as it is not true.

2013-08-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_time_expression):
	 - Parse time expressions that include a frame number as HH:MM:SS:FF

2013-08-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_get_property), (gst_ttmlparse_set_property),
	(gst_ttmlparse_class_init), (gst_ttmlparse_init):
	* src/gstttmlparse.h:
	 - Add a property to control whether an empty buffer is required after
	   each text buffer to force its removal. This is only required for
	   text renderers which do not honor buffer duration, like "textrender".
	   Previously the behavior was "TRUE" (generate the empty buffer) and it
	   has now been changed to "FALSE" to simplify applications which render
	   their own subtitle overelays.

2013-04-29  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.6 ===

2013-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer):
	  - Add yet another Pango Markup workaround for buffers with no printable
	    chars.

2013-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/ttml-play.sh:
	  - Make test script more comfortable by removing background animation.

2013-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango):
	  - Enable usage of a comma-separated list of fonts in the font_family tag.
	    This involved a few workarounds for Pango Markup 'quirks'...

2013-04-29  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_sax2_element_start_ns):
	  - Fix warning on Linux.

2013-04-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c:
	* src/gstttmlattribute.c:
	* src/gstttmlattribute.h:
	* src/gstttmlparse.c:
	* src/gstttmlutils.c:
	* src/gstttmlutils.h:
	  - Obey only nodes and attributes in the TTML or XML namespaces and ignore
	    the rest. This has no effect at all in the test files we have, but
	    makes the Foreign001.xml test pass for the correct reason now (the node
	    is discarded due to its namespace, not its lack of timing information).
	  - This introduces lots of extra strcmp's only to ignore bogus nodes in
	    malformed TTML files, but...

2013-04-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c:
	  - Remove bogus warning when applying empty styles.

2013-04-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c:
	  - Use SAX2 interface instead of SAX, to simplify later processing of
	    namespaces.

2013-04-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c:
	  - Whitespace in comments.

2013-02-13  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.5 ===

2013-02-13  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_chain):
	  - Fix warning in 64-bits builds.

2013-02-12  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_time_expression),
	(gst_ttml_attribute_parse):
	  - Avoid using the system's locale with sscanf (fixes
	    parsing fractional time expressions like 4.5s in
	    French or Spanish)

2013-01-18  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_sax_warning),
	(gst_ttmlparse_sax_error):
	  - Fix build when GST DEBUG is disabled.

2013-01-18  Xavi Artigas  <xartigas@fluendo.com>

	* win32/include/config-orig.h:
	  - config.h for Windows.

2013-01-18  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmltype.c: (gst_ttmltype_find):
	  - Fix overzealous detection of ttml files.

2013-01-17  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.4 ===

2013-01-17  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/ttml-check-ALL.sh:
	* testsuite/ttml-record-ALL-GOLD.sh:
	* testsuite/ttml-record.sh:
	  - Rest of tools to automate unit testing.

2013-01-16  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/ttml-play.sh:
	* testsuite/ttml-record.sh:
	  - Couple of tools to automate unit testing.

2013-01-16  Xavi Artigas  <xartigas@fluendo.com>

	* testsuite/Animation/Animation001.xml:
	* testsuite/Animation/Animation002.xml:
	* testsuite/Animation/Animation003.xml:
	* testsuite/Animation/Animation004.xml:
	* testsuite/Animation/Animation004b.xml:
	* testsuite/Animation/Animation005.xml:
	* testsuite/Animation/Animation006.xml:
	* testsuite/Animation/Animation007.xml:
	* testsuite/Animation/Animation008.xml:
	* testsuite/Animation/Animation012.xml:
	* testsuite/Animation/Animation013.xml:
	* testsuite/Animation/Animation014.xml:
	* testsuite/Animation/Animation015.xml:
	* testsuite/Animation/Animation016.xml:
	* testsuite/Animation/Animation017.xml:
	* testsuite/Animation/BasicTiming004.xml:
	* testsuite/Animation/BasicTiming005.xml:
	* testsuite/Animation/MediaParTiming002.xml:
	* testsuite/Animation/MediaSeqTiming007.xml:
	* testsuite/Content/Br001.xml:
	* testsuite/Content/Div001.xml:
	* testsuite/Content/Div002.xml:
	* testsuite/Content/Div003.xml:
	* testsuite/Content/Foreign001.xml:
	* testsuite/Content/Paragraph001.xml:
	* testsuite/Content/Paragraph002.xml:
	* testsuite/Content/Paragraph003.xml:
	* testsuite/Content/Paragraph004.xml:
	* testsuite/Content/Paragraph005.xml:
	* testsuite/Content/Span001.xml:
	* testsuite/Content/Span002.xml:
	* testsuite/Content/Span003.xml:
	* testsuite/Content/Span004.xml:
	* testsuite/Content/Span005.xml:
	* testsuite/Content/Tt001.xml:
	* testsuite/Content/Tt002.xml:
	* testsuite/Content/Tt003.xml:
	* testsuite/LOTR-The-Fellowship-Of-The-Ring.dfxp:
	* testsuite/Metadata/Agent004.xml:
	* testsuite/Metadata/Copyright003.xml:
	* testsuite/Metadata/Desc002.xml:
	* testsuite/Metadata/Name005.xml:
	* testsuite/Metadata/Role006.xml:
	* testsuite/Metadata/Title001.xml:
	* testsuite/Parameters/CellResolution001.xml:
	* testsuite/Parameters/ClockMode001.xml:
	* testsuite/Parameters/ClockMode002.xml:
	* testsuite/Parameters/ClockMode003.xml:
	* testsuite/Parameters/MarkerMode001.xml:
	* testsuite/Parameters/MarkerMode002.xml:
	* testsuite/Parameters/Parameters006.xml:
	* testsuite/Parameters/PixelAspectRatio001.xml:
	* testsuite/Parameters/PixelAspectRatio002.xml:
	* testsuite/Parameters/PixelAspectRatio003.xml:
	* testsuite/Parameters/PixelAspectRatio004.xml:
	* testsuite/Styling/BackgroundColor001.xml:
	* testsuite/Styling/BackgroundColor002.xml:
	* testsuite/Styling/BackgroundColor003.xml:
	* testsuite/Styling/BackgroundColor004.xml:
	* testsuite/Styling/BackgroundColor005.xml:
	* testsuite/Styling/BackgroundColor006.xml:
	* testsuite/Styling/BackgroundColor007.xml:
	* testsuite/Styling/BackgroundColor008.xml:
	* testsuite/Styling/BackgroundColor009.xml:
	* testsuite/Styling/Color001.xml:
	* testsuite/Styling/Color002.xml:
	* testsuite/Styling/Color003.xml:
	* testsuite/Styling/Color004.xml:
	* testsuite/Styling/Color005.xml:
	* testsuite/Styling/Color007.xml:
	* testsuite/Styling/Color008.xml:
	* testsuite/Styling/Color009.xml:
	* testsuite/Styling/Color010.xml:
	* testsuite/Styling/Direction001.xml:
	* testsuite/Styling/Direction002.xml:
	* testsuite/Styling/Direction003.xml:
	* testsuite/Styling/Direction004.xml:
	* testsuite/Styling/Direction005.xml:
	* testsuite/Styling/Direction006.xml:
	* testsuite/Styling/Display001.xml:
	* testsuite/Styling/Display002.xml:
	* testsuite/Styling/Display004.xml:
	* testsuite/Styling/DisplayAlign001.xml:
	* testsuite/Styling/DisplayAlign002.xml:
	* testsuite/Styling/DisplayAlign003.xml:
	* testsuite/Styling/DynamicFlow001.xml:
	* testsuite/Styling/DynamicFlow002.xml:
	* testsuite/Styling/Extent001.xml:
	* testsuite/Styling/Extent002.xml:
	* testsuite/Styling/FontFamily001.xml:
	* testsuite/Styling/FontFamily002.xml:
	* testsuite/Styling/FontFamily003.xml:
	* testsuite/Styling/FontFamily004.xml:
	* testsuite/Styling/FontFamily005.xml:
	* testsuite/Styling/FontFamily006.xml:
	* testsuite/Styling/FontFamily007.xml:
	* testsuite/Styling/FontFamily008.xml:
	* testsuite/Styling/FontFamily009.xml:
	* testsuite/Styling/FontSize001.xml:
	* testsuite/Styling/FontSize002.xml:
	* testsuite/Styling/FontSize003.xml:
	* testsuite/Styling/FontSize004.xml:
	* testsuite/Styling/FontSize005.xml:
	* testsuite/Styling/FontStyle001.xml:
	* testsuite/Styling/FontStyle002.xml:
	* testsuite/Styling/FontStyle003.xml:
	* testsuite/Styling/FontStyle004.xml:
	* testsuite/Styling/FontWeight001.xml:
	* testsuite/Styling/FontWeight002.xml:
	* testsuite/Styling/LineHeight001.xml:
	* testsuite/Styling/LineHeight002.xml:
	* testsuite/Styling/LineHeight003.xml:
	* testsuite/Styling/LineHeight006.xml:
	* testsuite/Styling/LineHeight007.xml:
	* testsuite/Styling/Opacity001.xml:
	* testsuite/Styling/Opacity002.xml:
	* testsuite/Styling/Opacity003.xml:
	* testsuite/Styling/Opacity004.xml:
	* testsuite/Styling/Origin001.xml:
	* testsuite/Styling/Origin002.xml:
	* testsuite/Styling/Overflow001.xml:
	* testsuite/Styling/Overflow002.xml:
	* testsuite/Styling/Overflow003.xml:
	* testsuite/Styling/Overflow004.xml:
	* testsuite/Styling/Overflow005.xml:
	* testsuite/Styling/Overflow006.xml:
	* testsuite/Styling/Padding001.xml:
	* testsuite/Styling/Padding002.xml:
	* testsuite/Styling/Padding003.xml:
	* testsuite/Styling/Padding004.xml:
	* testsuite/Styling/Padding006.xml:
	* testsuite/Styling/Padding007.xml:
	* testsuite/Styling/Padding008.xml:
	* testsuite/Styling/ShowBackground001.xml:
	* testsuite/Styling/ShowBackground002.xml:
	* testsuite/Styling/Style001.xml:
	* testsuite/Styling/Styling001.xml:
	* testsuite/Styling/TextAlign001.xml:
	* testsuite/Styling/TextAlign002.xml:
	* testsuite/Styling/TextAlign003.xml:
	* testsuite/Styling/TextAlign004.xml:
	* testsuite/Styling/TextAlign005.xml:
	* testsuite/Styling/TextAlign006.xml:
	* testsuite/Styling/TextDecoration001.xml:
	* testsuite/Styling/TextDecoration002.xml:
	* testsuite/Styling/TextDecoration003.xml:
	* testsuite/Styling/TextDecoration004.xml:
	* testsuite/Styling/TextDecoration005.xml:
	* testsuite/Styling/TextDecoration006.xml:
	* testsuite/Styling/TextDecoration007.xml:
	* testsuite/Styling/TextDecoration008.xml:
	* testsuite/Styling/TextDecoration009.xml:
	* testsuite/Styling/TextDecoration010.xml:
	* testsuite/Styling/TextDecoration011.xml:
	* testsuite/Styling/TextDecoration012.xml:
	* testsuite/Styling/TextDecoration013.xml:
	* testsuite/Styling/TextOutline001.xml:
	* testsuite/Styling/TextOutline002.xml:
	* testsuite/Styling/TextOutline003.xml:
	* testsuite/Styling/TextOutline004.xml:
	* testsuite/Styling/TextOutline005.xml:
	* testsuite/Styling/UnicodeBidi001.xml:
	* testsuite/Styling/UnicodeBidi002.xml:
	* testsuite/Styling/UnicodeBidi003.xml:
	* testsuite/Styling/UnicodeBidi005.xml:
	* testsuite/Styling/Visibility001.xml:
	* testsuite/Styling/Visibility002.xml:
	* testsuite/Styling/Visibility003.xml:
	* testsuite/Styling/WrapOption001.xml:
	* testsuite/Styling/WrapOption002.xml:
	* testsuite/Styling/WrapOption003.xml:
	* testsuite/Styling/WrapOption004.xml:
	* testsuite/Styling/WrapOption005.xml:
	* testsuite/Styling/WritingMode001.xml:
	* testsuite/Styling/WritingMode002.xml:
	* testsuite/Styling/WritingMode003.xml:
	* testsuite/Styling/WritingMode004.xml:
	* testsuite/Styling/WritingMode005.xml:
	* testsuite/Styling/WritingMode006.xml:
	* testsuite/Styling/WritingMode007.xml:
	* testsuite/Styling/WritingMode008.xml:
	* testsuite/Styling/WritingMode009.xml:
	* testsuite/Styling/ZIndex001.xml:
	* testsuite/Styling/ZIndex002.xml:
	* testsuite/Styling/ZIndex003.xml:
	* testsuite/ThisIsCoffee1961_captions.xml:
	* testsuite/Timing/BasicTimeContainment001.xml:
	* testsuite/Timing/BasicTimeContainment002.xml:
	* testsuite/Timing/BasicTimeContainment003.xml:
	* testsuite/Timing/BasicTimeContainment004.xml:
	* testsuite/Timing/BasicTiming001.xml:
	* testsuite/Timing/BasicTiming002.xml:
	* testsuite/Timing/BasicTiming003.xml:
	* testsuite/Timing/BasicTiming006.xml:
	* testsuite/Timing/BasicTiming007.xml:
	* testsuite/Timing/BasicTiming008.xml:
	* testsuite/Timing/BasicTiming010.xml:
	* testsuite/Timing/BasicTiming011.xml:
	* testsuite/Timing/BasicTiming012.xml:
	* testsuite/Timing/BeginDur001.xml:
	* testsuite/Timing/BeginEnd001.xml:
	* testsuite/Timing/BeginEnd002.xml:
	* testsuite/Timing/BeginEnd003.xml:
	* testsuite/Timing/FixedBeginEnd002.xml:
	* testsuite/Timing/MediaParTiming001.xml:
	* testsuite/Timing/MediaParTiming003.xml:
	* testsuite/Timing/MediaSeqTiming001.xml:
	* testsuite/Timing/MediaSeqTiming002.xml:
	* testsuite/Timing/MediaSeqTiming003.xml:
	* testsuite/Timing/MediaSeqTiming004.xml:
	* testsuite/Timing/MediaSeqTiming005.xml:
	* testsuite/Timing/MediaSeqTiming006.xml:
	* testsuite/smoothstreaming.ttml:
	* testsuite/ttml-play.bat:
	  - Added testsuite

2013-01-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_add_characters):
	  - Add support for corner case (anonymous spans inside seq containers)

2013-01-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_copy):
	  - Fix incorrect memory handling on attributes with multiple <set>s

2013-01-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_new_styling_default),
	(gst_ttml_attribute_type_name):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlstyle.c: (gst_ttml_style_get_font_size_unit_name),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - PARTIAL support for fontSize. Some of the font metrics require
	    knowing the current font size, which cannot be done through
	    Pango markup. Pixel measures are honored, other measures
	    are approximated.

2013-01-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlspan.c: (gst_ttml_span_new):
	  - Remove VS warning by adding explicit cast.

2013-01-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlspan.c: (gst_ttml_span_new):
	  - Remove ugly single space at beginning of spans caused by
	    XML indentation. THIS DOES NOT FOLLOW THE SPEC, and might
	    break some (strange) scenarios, but IMHO looks nicer and
	    hides a bug we have when this single space appears before
	    a <set> node.

2013-01-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_add_characters):
	  - Fix spans with no "begin" attribute.

2013-01-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/fluttml.c: (plugin_init):
	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_color_expression),
	(gst_ttml_attribute_parse), (gst_ttml_attribute_free),
	(gst_ttml_attribute_type_name), (gst_ttml_attribute_add_event):
	* src/gstttmlevent.c: (gst_ttml_event_new_span_begin),
	(gst_ttml_event_new_span_end), (gst_ttml_event_new_attr_update),
	(gst_ttml_event_list_flush):
	* src/gstttmlevent.h:
	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_parse_event), (gst_ttmlparse_add_characters),
	(gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_document_end), (gst_ttmlparse_chain),
	(gst_ttmlparse_class_init):
	* src/gstttmlspan.c: (gst_ttml_span_list_update_attr):
	* src/gstttmlstate.c: (gst_ttml_state_get_attribute),
	(gst_ttml_state_push_attribute), (gst_ttml_state_save_attr_stack),
	(gst_ttml_state_restore_attr_stack):
	* src/gstttmlstyle.c: (gst_ttml_style_gen_span_events):
	* src/gstttmlutils.c: (gst_ttml_utils_node_type_parse),
	(gst_ttml_utils_node_type_name):
	  - gst-indent

2013-01-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_free),
	(gst_ttml_attribute_event_free), (gst_ttml_attribute_add_event):
	* src/gstttmlattribute.h:
	* src/gstttmlevent.c: (gst_ttml_event_free),
	(gst_ttml_event_new_attr_update):
	* src/gstttmlevent.h:
	* src/gstttmlforward.h:
	* src/gstttmlparse.c: (gst_ttmlparse_parse_event),
	(gst_ttmlparse_sax_element_end):
	* src/gstttmlspan.c: (gst_ttml_span_list_update_attr):
	* src/gstttmlspan.h:
	* src/gstttmlstyle.c: (gst_ttml_style_gen_span_events):
	  - Fix animated attributes memory handling (according to Valgrind,
	    it is solid now).

2013-01-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_free), (gst_ttml_attribute_copy),
	(gst_ttml_attribute_new_node), (gst_ttml_attribute_new_boolean),
	(gst_ttml_attribute_new_time), (gst_ttml_attribute_new_string),
	(gst_ttml_attribute_new_double), (gst_ttml_attribute_new_fraction),
	(gst_ttml_attribute_new_styling_default),
	(gst_ttml_attribute_event_compare), (gst_ttml_attribute_add_event):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlevent.c: (gst_ttml_event_new_attr_update),
	(gst_ttml_event_list_insert), (gst_ttml_event_list_get_next),
	(gst_ttml_event_type_name):
	* src/gstttmlevent.h:
	* src/gstttmlforward.h:
	* src/gstttmlparse.c: (gst_ttmlparse_parse_event),
	(gst_ttmlparse_add_characters), (gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_element_end):
	* src/gstttmlspan.c: (gst_ttml_span_new),
	(gst_ttml_span_list_update_attr):
	* src/gstttmlspan.h:
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_merge_attribute), (gst_ttml_state_get_attribute),
	(gst_ttml_state_pop_attribute),
	(gst_ttml_state_restore_attr_stack):
	* src/gstttmlstate.h:
	* src/gstttmlstyle.c: (gst_ttml_style_copy),
	(gst_ttml_style_set_attr), (gst_ttml_style_gen_span_events):
	* src/gstttmlstyle.h:
	* src/gstttmlutils.c: (gst_ttml_utils_node_type_parse),
	(gst_ttml_utils_node_type_name):
	  - Add support for Animations (Big commit!).

2013-01-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_color_expression),
	(gst_ttml_attribute_parse):
	* src/gstttmlutils.c: (gst_ttml_utils_element_is_type),
	(gst_ttml_utils_attr_value_is):
	* src/gstttmlutils.h:
	  - Enhanced resilience against whitespace in attribute values.

2013-01-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c:
	  - Add a bit of missing documentation.

2013-01-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlevent.c: (gst_ttml_event_new_span_end):
	  - Fix invalid timestamps with open-ended intervals.

2013-01-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlspan.c: (gst_ttml_span_free):
	  - Fix tiny memleak (Thanks Valgrind!)

2013-01-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_gen_pango):
	  - Add missing "default" case to fix Linux build.

2013-01-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_copy),
	(gst_ttml_attribute_new_boolean), (gst_ttml_attribute_new_time),
	(gst_ttml_attribute_new_string), (gst_ttml_attribute_new_double),
	(gst_ttml_attribute_new_fraction),
	(gst_ttml_attribute_new_styling_default),
	(gst_ttml_attribute_compare_type_func):
	* src/gstttmlattribute.h:
	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_sax_element_start):
	* src/gstttmlspan.c: (gst_ttml_span_compose):
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute), (gst_ttml_state_push_attribute),
	(gst_ttml_state_save_attr_stack):
	* src/gstttmlstyle.c: (gst_ttml_style_reset),
	(gst_ttml_style_copy), (gst_ttml_style_get_attr),
	(gst_ttml_style_set_attr), (gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - Turn Styles into a generic list of attributes, instead of a
	    hardcoded structure. This simplifies code somewhat, and prepares
	    the ground for Animations.

2013-01-10  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse):
	* src/gstttmlattribute.h:
	* src/gstttmlevent.c: (gst_ttml_event_free),
	(gst_ttml_event_new_span_begin), (gst_ttml_event_new_span_end):
	* src/gstttmlevent.h:
	* src/gstttmlparse.c: (gst_ttmlparse_parse_event):
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	  - Name all unnamed unions and structs, for better error messages.

2013-01-10  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_reset):
	  - Add missing style initializers (Not required because all are 0,
	    but more coherent code).

2013-01-09  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_add_characters):
	* src/gstttmlspan.c: (gst_ttml_span_new):
	  - Treat white space as indicated in the TTML spec.

2013-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.h:
	  - Fix CR style.

2013-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* win32/vs10/libgstfluttml_sdk.vcxproj:
	  - Change the Windows subsystem to CONSOLE. This has no impact
	    at all, since this is a DLL and not an executable, but
	    prevents VS from closing the console after execution.

2013-01-08  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.3 ===

2013-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstate.c: (gst_ttml_state_restore_attr_stack):
	  - Fix build for GLib versions < 2.36

2013-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	  - Fix dist-check

2013-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_get_text_decoration_name):
	  - Add missing case and fix gcc warning.

2013-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_type_name):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	* src/gstttmlstyle.c: (gst_ttml_style_get_text_decoration_name),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - Support for the textDecoration styling attribute.

2013-01-08  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_type_name):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	* src/gstttmlstyle.c: (gst_ttml_style_get_font_weight_name),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - Support for the fontWeight styling attribute.

2013-01-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_sax_characters):
	* src/gstttmlutils.c:
	* src/gstttmlutils.h:
	  - Better handling of blank nodes: they cannot be ignored.
	    Instead, we accept them and then trim heading and trailing
	    whitespace in the final buffers (fixes Span004.xml)

2013-01-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_characters):
	* src/gstttmlutils.c: (gst_ttml_utils_node_type_name):
	* src/gstttmlutils.h:
	  - Better debug messages involving node type names.

2013-01-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlspan.c: (gst_ttml_span_new):
	  - Proper removal of CR characters (instead of replacing by SPACE)

2012-12-28  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c:
	  - Fix linux build by removing unused function.

2012-12-28  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_free), (gst_ttml_attribute_copy),
	(gst_ttml_attribute_type_name):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlparse.c: (gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_element_end),
	(gst_ttmlparse_sax_document_start), (gst_ttmlparse_reset),
	(gst_ttmlparse_chain), (gst_ttmlparse_cleanup),
	(gst_ttmlparse_init):
	* src/gstttmlparse.h:
	* src/gstttmlstate.c: (gst_ttml_state_free_content),
	(gst_ttml_state_free), (gst_ttml_state_free_attr_stack),
	(gst_ttml_state_reset), (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute), (gst_ttml_state_push_attribute),
	(gst_ttml_state_pop_attribute), (gst_ttml_state_save_attr_stack),
	(gst_ttml_state_restore_attr_stack):
	* src/gstttmlstate.h:
	* src/gstttmlstyle.c: (gst_ttml_style_free_content),
	(gst_ttml_style_free), (gst_ttml_style_reset),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	* src/gstttmlutils.c: (gst_ttml_utils_node_type_parse):
	  - Support for referential styling (where the style is defined in a
	    <styling> node and later referred to by id)
	  - Enhanced rebustness against malformed XMLs (where proper closing
	    of the document might not happen)
	  - Added some more comments, hide unnecessary public methods, rename
	    variables, added some consts

2012-12-27  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.h:
	  - Remove unused variable.

2012-12-27  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.h:
	* src/gstttmlparse.h:
	* src/gstttmlstate.h:
	  - Remove unused forward declarations.

2012-12-27  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c:
	(gst_ttml_attribute_parse_time_expression),
	(gst_ttml_attribute_parse_color_expression),
	(gst_ttml_attribute_parse):
	* src/gstttmlattribute.h:
	 - Fix naming and scope of some local utility functions.

2012-12-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_type_name):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	* src/gstttmlstyle.c: (gst_ttml_style_get_font_style_name),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - Support for the "fontStyle" attribute.

2012-12-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_type_name):
	* src/gstttmlattribute.h:
	* src/gstttmlstate.c: (gst_ttml_state_push_attribute),
	(gst_ttml_state_pop_attribute):
	  - Better debug output.

2012-12-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse),
	(gst_ttml_attribute_free):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	* src/gstttmlstyle.c: (gst_ttml_style_reset),
	(gst_ttml_style_free_content), (gst_ttml_style_copy),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - Support for the "fontFamily" attribute.

2012-12-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse):
	* src/gstttmlenums.h:
	* src/gstttmlspan.c: (gst_ttml_span_compose):
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	* src/gstttmlstyle.c: (gst_ttml_style_reset):
	* src/gstttmlstyle.h:
	  - Support for the "display" attribute.

2012-12-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlstyle.c: (gst_ttml_style_str_concat),
	(gst_ttml_style_gen_pango):
	  - Better generation of Pango markup.

2012-12-12  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlevent.c: (gst_ttml_event_list_flush):
	  - Send an extra buffer to clear the last span.

2012-12-12  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer):
	  - Generate newsegments starting from the incoming buffer timestamp, not
	    the first produced buffer timestamp.

2012-12-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer):
	  - Generate an empty buffer (containing only one SPACE character) to clear
	    the subtitles.

2012-12-11  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_chain):
	  - Use text/x-pango-markup caps instead of text/plain, so textoverlay
	    knows what we are producing.

2012-12-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_attribute_parse):
	* src/gstttmlenums.h:
	* src/gstttmlstate.c: (gst_ttml_state_set_attribute),
	(gst_ttml_state_get_attribute):
	* src/gstttmlstyle.c: (gst_ttml_style_reset),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - Support "backgroundColor" attribute (only on text spans, no support
	    for regions yet)

2012-12-07  Xavi Artigas  <xartigas@fluendo.com>

	* win32/vs10/libgstfluttml_sdk.vcxproj:
	* win32/vs10/libgstfluttml_sdk.vcxproj.filters:
	  - Update VS project files

2012-12-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	* src/gstttmlspan.c: (gst_ttml_span_compose), (gst_ttml_span_new):
	* src/gstttmlstate.c: (gst_ttml_state_reset):
	* src/gstttmlstate.h:
	* src/gstttmlstyle.c: (gst_ttml_style_reset),
	(gst_ttml_style_free_content), (gst_ttml_style_copy),
	(gst_ttml_style_gen_pango):
	* src/gstttmlstyle.h:
	  - Moved the Style management to its own file, because it is going to
	    get a bit big (Visual Studio files coming next)

2012-12-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_add_characters):
	* src/gstttmlspan.c: (gst_ttml_span_compose), (gst_ttml_span_new):
	* src/gstttmlspan.h:
	  - Support the "color" attribute by generating appropriate Pango markup.

2012-12-07  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.c: (gst_ttml_parse_color_expression),
	(gst_ttml_attribute_parse):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlforward.h:
	* src/gstttmlstate.c: (gst_ttml_state_reset),
	(gst_ttml_state_set_attribute), (gst_ttml_state_get_attribute):
	* src/gstttmlstate.h:
	  - Parse the "color" attribute (Still unused)

2012-12-05  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlattribute.h:
	* src/gstttmlevent.h:
	* src/gstttmlforward.h:
	* src/gstttmlspan.h:
	* src/gstttmlstate.h:
	  - Fix forward declaration of types for some strict compilers (like gcc
	    previous to version 4.6)

2012-11-30  Xavi Artigas  <xartigas@fluendo.com>

	* win32/vs10/libgstfluttml_sdk.vcxproj:
	  - Typo in project file

2012-11-30  Xavi Artigas  <xartigas@fluendo.com>

	* win32/vs10/libgstfluttml_sdk.vcxproj:
	* win32/vs10/libgstfluttml_sdk.vcxproj.filters:
	  - Add missing file to VS project to fix Windows build.

2012-11-30  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlutils.h:
	  - Missed file, as usual.

2012-11-30  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	* src/gstttmlattribute.c: (gst_ttml_parse_time_expression),
	(gst_ttml_attribute_parse), (gst_ttml_attribute_free),
	(gst_ttml_attribute_new_node),
	(gst_ttml_attribute_new_time_container),
	(gst_ttml_attribute_new_begin), (gst_ttml_attribute_new_dur):
	* src/gstttmlattribute.h:
	* src/gstttmlenums.h:
	* src/gstttmlevent.c: (gst_ttml_event_free),
	(gst_ttml_event_compare), (gst_ttml_event_new_span_begin),
	(gst_ttml_event_new_span_end), (gst_ttml_event_list_insert),
	(gst_ttml_event_list_get_next), (gst_ttml_event_list_flush):
	* src/gstttmlevent.h:
	* src/gstttmlparse.c: (gst_ttmlparse_gen_buffer),
	(gst_ttmlparse_parse_event), (gst_ttmlparse_add_characters),
	(gst_ttmlparse_sax_element_start), (gst_ttmlparse_sax_element_end),
	(gst_ttmlparse_sax_characters), (gst_ttmlparse_sax_document_end),
	(gst_ttmlparse_chain), (gst_ttmlparse_cleanup),
	(gst_ttmlparse_init):
	* src/gstttmlparse.h:
	* src/gstttmlprivate.h:
	* src/gstttmlspan.c: (gst_ttml_span_compose), (gst_ttml_span_free),
	(gst_ttml_span_new), (gst_ttml_span_compare_id),
	(gst_ttml_span_list_add), (gst_ttml_span_list_remove):
	* src/gstttmlspan.h:
	* src/gstttmlstate.c: (gst_ttml_state_reset),
	(gst_ttml_state_set_attribute), (gst_ttml_state_merge_attribute),
	(gst_ttml_state_get_attribute), (gst_ttml_state_push_attribute),
	(gst_ttml_state_pop_attribute):
	* src/gstttmlstate.h:
	* src/gstttmlutils.c: (gst_ttml_utils_element_is_type),
	(gst_ttml_utils_node_type_parse), (gst_ttml_utils_is_blank_node):
	* win32/vs10/libgstfluttml_sdk.vcxproj:
	* win32/vs10/libgstfluttml_sdk.vcxproj.filters:
	  - Big refactor to put functionality in different files. No change in
	    behaviour. Windows build needs to be fixed next.

2012-11-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_parse_time_expression):
	  - Remove some Visual Studio warnings.

2012-11-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_state_reset):
	* src/gstttmlprivate.h:
	  - FrameRateMultiplier can be two gint's, not gdoubles.

2012-11-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_state_reset),
	(gst_ttmlparse_cleanup), (gst_ttmlparse_sink_event):
	  - Handle Flush Stop events.

2012-11-26  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_active_spans_add),
	(gst_ttmlparse_attribute_parse),
	(gst_ttmlparse_attribute_new_time_container),
	(gst_ttmlparse_attribute_new_begin),
	(gst_ttmlparse_attribute_new_dur),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_add_characters), (gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_element_end), (gst_ttmlparse_sax_characters),
	(gst_ttmlparse_state_reset):
	* src/gstttmlprivate.h:
	  - Support the timeContainer attribute and the Sequential mode. This
	    completes the support for the #timing feature.
	  - Drop buffers with null time lapse earlier.
	  - Fix <br /> nodes.
	  - Some more MEMDUMP of span contents.

2012-11-23  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.2 ===

2012-11-23  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlprivate.h:
	  - Provide a replacement for GST_MEMDUMP on older GStreamers

2012-11-23  Release Maker <nomail@fluendo.com>

	* configure.ac: Back to TRUNK.

=== release 0.10.1 ===

2012-11-23  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	  - Added missing dependency with gstttmlprivate.h

2012-11-23  Xavi Artigas  <xartigas@fluendo.com>

	* Makefile.am:
	  - Remove dependency with LICENSE.LGPL

2012-11-23  Fluendo <support@fluendo.com>

	* gst-fluendo-ttml.spec.in: Remove unnecessary dependencies.

2012-11-23  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_span_compose),
	(gst_ttmlparse_send_buffer), (gst_ttmlparse_event_new_span_end),
	(gst_ttmlparse_timeline_flush), (gst_ttmlparse_add_characters),
	(gst_ttmlparse_sax_document_end), (gst_ttmlparse_cleanup):
	* src/gstttmlprivate.h:
	  - Finished implementation of the assume-ordered-spans property.

2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_span_new),
	(gst_ttmlparse_attribute_parse),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_add_characters), (gst_ttmlparse_state_reset):
	* src/gstttmlprivate.h:
	  - Support for the xml:space attribute which controls how CR chars
	    are to be treated.

2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer),
	(gst_ttmlparse_add_characters), (gst_ttmlparse_sax_characters):
	  - Check for blank nodes in the proper place
	  - Do not output empty buffers

2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_is_blank_node),
	(gst_ttmlparse_add_characters):
	  - Do not process blank nodes (only containing whitespace)

2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_node_type_parse),
	(gst_ttmlparse_add_characters), (gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_characters):
	* src/gstttmlprivate.h:
	  - Support for the <br /> tag

2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_attribute_parse),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_merge_attribute),
	(gst_ttmlparse_state_get_attribute), (gst_ttmlparse_state_reset):
	* src/gstttmlprivate.h:
	  - Support for frame time expression ('300f').
	  - Support for the frameRate and frameRateMultiplier attributes.
	  - Keep tick_rate internally instead of tick_period, for simplicity.
	  - Fix span duration calculation.

2012-11-22  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_span_free),
	(gst_ttmlparse_span_new), (gst_ttmlparse_span_compare_id),
	(gst_ttmlparse_active_spans_add),
	(gst_ttmlparse_active_spans_remove), (gst_ttmlparse_event_free),
	(gst_ttmlparse_event_new_span_begin),
	(gst_ttmlparse_event_new_span_end), (gst_ttmlparse_event_parse),
	(gst_ttmlparse_timeline_insert_event),
	(gst_ttmlparse_timeline_get_next_event),
	(gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_attribute_new_node),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_merge_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_state_push_attribute),
	(gst_ttmlparse_state_pop_attribute), (gst_ttmlparse_span_compose),
	(gst_ttmlparse_send_buffer), (gst_ttmlparse_node_type_parse),
	(gst_ttmlparse_sax_element_start), (gst_ttmlparse_sax_element_end),
	(gst_ttmlparse_sax_characters), (gst_ttmlparse_sax_document_end),
	(gst_ttmlparse_chain), (gst_ttmlparse_state_reset),
	(gst_ttmlparse_cleanup), (gst_ttmlparse_dispose),
	(gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  WARNING, HUGE COMMIT!
	  - Allow overlapped, nested and anonymous spans by implementing a timeline
	    and an active spans list.

2012-11-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_attribute_parse),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_sax_element_start), (gst_ttmlparse_state_reset),
	(gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  - Parse the tickRate attribute, so time expressions in 0000000t format
	    as the ones found in the Netflix subs are accepted.

2012-11-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_element_is_type),
	(gst_ttmlparse_attribute_parse), (gst_ttmlparse_attribute_free),
	(gst_ttmlparse_state_set_attribute),
	(gst_ttmlparse_state_get_attribute),
	(gst_ttmlparse_state_push_attribute),
	(gst_ttmlparse_state_push_attribute_group_marker),
	(gst_ttmlparse_state_pop_attribute), (gst_ttmlparse_send_buffer),
	(gst_ttmlparse_sax_element_start), (gst_ttmlparse_sax_element_end),
	(gst_ttmlparse_chain), (gst_ttmlparse_state_reset),
	(gst_ttmlparse_dispose), (gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  - Implement an attribute stack, so attributes can be inherited. No change
	    in functionality, everything is just done in a different way.

2012-11-20  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmltype.c: (gst_ttmltype_init):
	  - Added new supported extension: dfxp

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_chain), (gst_ttmlparse_init):
	  - Use the first buffer of an XML as the base time, not the last.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer):
	  - Default newsegments start at the first timestamp, not at 0.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_get_property),
	(gst_ttmlparse_set_property), (gst_ttmlparse_class_init):
	* src/gstttmlprivate.h:
	  - Add property skeleton for "Assume Ordered Spans". Not implemented yet.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_dispose),
	(gst_ttmlparse_init):
	* src/gstttmlprivate.h:
	  - Comment out timeline functions to make code compile while we work on
	    something else.
	  - Timeline initialization and disposal.

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlprivate.h:
	  - Typo in comment

2012-11-19  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c:
	  - Set SRC pad to ALWAYS insted of SOMETIMES, as that is what it is.

201-11-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_cleanup),
	(gst_ttmlparse_event_compare), (gst_ttmlparse_timeline_insert),
	(gst_ttmlparse_timeline_get_next):
	* src/gstttmlparse.h:
	* src/gstttmlprivate.h:
	  - Initial work to support timelined events (incomplete!)

2012-11-16  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c:
	  - Remove unneeded includes

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer):
	  - Whitespace

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer),
	(gst_ttmlparse_sax_element_start):
	  - Ignore <p> nodes without timing information.

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer):
	  - Fix debug output (buffers are not null-terminated now)

2012-11-15  Xavi Artigas  <xartigas@fluendo.com>

	* src/Makefile.am:
	* src/fluttml.c: (plugin_init):
	* src/gstttmlparse.c:
	* src/gstttmltype.c: (gst_ttmltype_find), (gst_ttmltype_init):
	* src/gstttmltype.h:
	  - Implement the typefinder.
	  - Change the produced caps to the official application/ttml+xml

2012-11-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_send_buffer),
	(gst_ttmlparse_chain), (gst_ttmlparse_init):
	* src/gstttmlparse.h:
	  - Handle pad push errors by storing them and returning them from the
	    chain once parsing finishes.

2012-11-14  Xavi Artigas  <xartigas@fluendo.com>

	* src/gstttmlparse.c: (gst_ttmlparse_cleanup),
	(gst_ttmlparse_is_type), (gst_ttmlparse_parse_time_expression),
	(gst_ttmlparse_send_buffer), (gst_ttmlparse_sax_element_start),
	(gst_ttmlparse_sax_element_end), (gst_ttmlparse_sax_characters),
	(gst_ttmlparse_sax_warning), (gst_ttmlparse_sax_error),
	(gst_ttmlparse_sax_comment), (gst_ttmlparse_sax_get_entity),
	(gst_ttmlparse_chain), (gst_ttmlparse_init):
	* src/gstttmlparse.h: 
	  - Use a SAX XML parser instead of the DOM one, so files can be parsed
	    as they are received, even if they are not complete.
	  - Disregard namespaces, to support files using the final and the
	    working draft names.
	  - Support time expressions in "HH:mm:ss" and "10s" format.
	  - Support concatenated XML files inside the same buffer (only seen in
	    files produced by ourselves, but better safe than sorry).
	  - Remove Authentec hack.


